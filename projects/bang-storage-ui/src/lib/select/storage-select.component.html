<div
  class="storage-select"
  (mouseenter)="showCloseIcon=true"
  (mouseleave)="showCloseIcon=false">
  <input
    nz-input
    #inputElement
    (click)="toggleContainer($event)"
    readonly
    [(ngModel)]="name"
    [placeholder]="placeholder"
    [disabled]="disabled"
    [style.cursor]="disabled?'not-allowed':'cursor'"
  >
  <span class="storage-select-icon" [class.storage-select-icon-disabled]="disabled" #iconElement><i nz-icon type="down" theme="outline"></i></span>
  <span class="storage-select-icon" *ngIf="showClose&&showCloseIcon&&!disabled" (click)="clearValue()"><i nz-icon
                                                                                               type="close-circle"
                                                                                               theme="fill"></i></span>
  <div class="storage-select-container" [style.width]="width+'px'" *ngIf="showContainer">
    <input
      nz-input
      #searchElement
      placeholder="请输入搜索内容"
      [(ngModel)]="searchInput"
      (ngModelChange)="search($event)"
    >
    <ul>
      <ng-container *ngFor="let item of selectOptions.toArray()">
        <li
          (click)="$event.stopPropagation();changeValue(item)"
          class="storage-select-container-item"
          [ngClass]="{'storage-select-container-item-selected':item.selected,'storage-select-container-item-disabled':item.disabled}"
          [hidden]="item.hidden"
        >
          {{item.name}}
        </li>
      </ng-container>
    </ul>
  </div>
</div>
